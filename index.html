<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Pay Me</title>
<style>
  /* === Theme & Reset === */
  :root {
    --venmo: #339AF0;
    --cashapp: #00C244;
    --paypal: #003087;
    --zelle: #5A31F4;
    --home-from: #333;
    --home-to:   #111;
    --card-bg: #fff;
    --shadow: 0 8px 20px rgba(0,0,0,0.2);
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body, html {
    width:100%; height:100%;
    font-family: "Segoe UI", Roboto, sans-serif;
    background: linear-gradient(135deg, var(--home-from), var(--home-to));
    display: flex; align-items: center; justify-content: center;
    overflow: hidden;
  }
  .screen {
    position: absolute; top:50%; left:50%;
    width: 90%; max-width: 360px; padding: 24px;
    background: var(--card-bg); border-radius: 16px;
    box-shadow: var(--shadow);
    transform: translate(-50%, -50%) scale(1);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }
  .hidden {
    opacity: 0; transform: translate(-50%, -50%) scale(0.9);
    pointer-events: none;
  }
  h1 {
    text-align: center; margin-bottom: 24px; color: #222;
  }
  /* === Method Buttons (Grayscale) === */
  .methods {
    display: flex; flex-direction: column; gap: 16px;
  }
  .method-btn {
    display: flex; align-items: center; gap: 12px;
    padding: 14px; border: none; border-radius: 12px;
    background: #fff; color: #222; font-size: 18px;
    cursor: pointer; transition: background 0.2s, transform 0.2s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }
  .method-btn img { width: 32px; height: 32px; filter: grayscale(100%); }
  .method-btn:hover {
    background: #f5f5f5; transform: translateY(-2px);
  }
  /* === Amount Screen === */
  .number-display {
    font-size: 2rem; text-align: center;
    margin: 20px 0; min-height: 40px; color: #222;
  }
  .numpad {
    display: grid; grid-template-columns: repeat(3,1fr); gap: 10px;
  }
  .numpad button {
    padding: 20px; font-size: 24px; border: none;
    border-radius: 8px; background: #ececec; cursor: pointer;
    transition: background 0.2s;
  }
  .numpad button:hover { background: #dcdcdc; }
  .actions {
    margin-top: 20px; display: flex; gap: 10px;
  }
  .actions button {
    flex: 1; padding: 12px; font-size: 18px;
    border: none; border-radius: 8px; color: #fff;
    cursor: pointer; transition: opacity 0.2s;
  }
  .back-btn { background: #6c757d; }
  .pay-btn  { background: var(--venmo); } /* dynamic update */
</style>
</head>
<body>

  <!-- Home Screen -->
  <div id="screen-method" class="screen">
    <h1>Choose Payment</h1>
    <div class="methods">
      <button class="method-btn" data-method="venmo">
        <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/venmo.svg" alt="Venmo"/>Venmo
      </button>
      <button class="method-btn" data-method="cashapp">
        <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/cashapp.svg" alt="CashApp"/>Cash App
      </button>
      <button class="method-btn" data-method="paypal">
        <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/paypal.svg" alt="PayPal"/>PayPal
      </button>
      <button class="method-btn" data-method="zelle">
        <img src="https://cdn.jsdelivr.net/npm/simple-icons@v9/icons/zelle.svg" alt="Zelle"/>Zelle
      </button>
    </div>
  </div>

  <!-- Amount Entry -->
  <div id="screen-amount" class="screen hidden">
    <h1 id="amount-title">Enter Amount</h1>
    <div class="number-display" id="display">0.00</div>
    <div class="numpad">
      <button data-key="1">1</button><button data-key="2">2</button><button data-key="3">3</button>
      <button data-key="4">4</button><button data-key="5">5</button><button data-key="6">6</button>
      <button data-key="7">7</button><button data-key="8">8</button><button data-key="9">9</button>
      <button data-key=".">.</button><button data-key="0">0</button><button data-key="←">←</button>
    </div>
    <div class="actions">
      <button class="back-btn">Back</button>
      <button class="pay-btn" id="confirm-btn">Pay</button>
    </div>
  </div>

  <!-- Zelle Screen -->
  <div id="screen-zelle" class="screen hidden">
    <h1>Zelle</h1>
    <p style="text-align:center; margin-bottom:20px; color:#444;">
      Tap to copy email, then open Zelle in your bank.
    </p>
    <button class="pay-btn" id="zelle-copy" style="width:100%;">Copy Email</button>
    <button class="back-btn" style="width:100%; margin-top:10px;">Back</button>
  </div>

<script>
  const handles = {
    venmo:   { handle:'harperrc27', color:'var(--venmo)',
               url:amt=>`https://venmo.com/harperrc27?txn=pay&amount=${amt}` },
    cashapp: { handle:'harperrc', color:'var(--cashapp)',
               url:amt=>`https://cash.app/$harperrc/${amt}` },
    paypal:  { handle:'harperrc', color:'var(--paypal)',
               url:amt=>`https://www.paypal.me/harperrc/${amt}` },
    zelle:   { handle:'harperrcfinancial@gmail.com', color:'var(--zelle)' }
  };

  const screens = {
    method: document.getElementById('screen-method'),
    amount: document.getElementById('screen-amount'),
    zelle:  document.getElementById('screen-zelle')
  };
  const display = document.getElementById('display');
  const confirmBtn = document.getElementById('confirm-btn');
  let currentMethod = '', currentAmount = '';

  function show(screen) {
    Object.values(screens).forEach(s=>s.classList.add('hidden'));
    screens[screen].classList.remove('hidden');
  }

  // Vibration fallback
  function vibrate() {
    if (navigator.vibrate) navigator.vibrate(50);
  }

  // Method selection
  document.querySelectorAll('.method-btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      vibrate();
      const m = btn.dataset.method;
      if (m==='zelle') show('zelle');
      else {
        currentMethod = m; currentAmount = '';
        display.textContent='0.00';
        confirmBtn.style.background = handles[m].color;
        document.getElementById('amount-title').textContent = `Pay with ${m.charAt(0).toUpperCase()+m.slice(1)}`;
        show('amount');
      }
    });
  });

  // Numpad input
  document.querySelectorAll('.numpad button').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      vibrate();
      const key = btn.dataset.key;
      if (key==='←') currentAmount = currentAmount.slice(0,-1);
      else if (key==='.' && currentAmount.includes('.')) return;
      else currentAmount += key;
      display.textContent = currentAmount?parseFloat(currentAmount).toFixed(2):'0.00';
    });
  });

  // Back buttons
  document.querySelectorAll('.back-btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{ vibrate(); show('method'); });
  });

  // Confirm payment
  confirmBtn.addEventListener('click', ()=>{
    vibrate();
    const amt = display.textContent;
    if (!amt||parseFloat(amt)<=0) return alert('Enter valid amount.');
    window.location.href = handles[currentMethod].url(amt);
  });

  // Zelle copy
  document.getElementById('zelle-copy').addEventListener('click', ()=>{
    vibrate();
    navigator.clipboard.writeText(handles.zelle.handle)
      .then(_=>alert('Email copied!'))
      .catch(_=>alert('Copied: '+handles.zelle.handle));
  });
</script>
</body>
</html>
